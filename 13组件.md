# 理解组件\(component\)

在Angular中,一个组件是一种使用简单配置的特殊指令.对于基于组件的应用程序结构非常有用.

通过使用组件,可以更容易地使用web组件或Angular2风格的应用程序架构去实现应用程序.

组件的优点:

* 比纯指令的配置更加简单
* 优化基于组件的架构
* 使用组建指令可以更容易更新到Angular2

什么时候不应该使用组件:

* 经常操作DOM的指令,添加事件监听器等不应该使用组件.因为`compike`和`link`函数不可用
* 当你需要更高级的组件定义选项如优先级,中断,多元素
* 当你想要一个指令通过属性或CSS的类名出发,而不是元素名

## 创建和配置组件

组件可以使用Angular模块\(angular.module\(\)的返回值\)的`.component()`方法注册.这个方法带有两个参数:

* 组件的名称\(字符串\)
* 组件的配置对象.\(注意,与指令不同的是,这个方法不需要工厂函数\)

**index.js**

```js
angular.module('heroApp', []).controller('MainCtrl', function MainCtrl() {
  this.hero = {
    name: 'Spawn'
  };
});
```

**heroDetail.js**

```js
function HeroDetailController() {

}

angular.module('heroApp').component('heroDetail', {
  templateUrl: 'heroDetail.html',
  controller: HeroDetailController,
  bindings: {
    hero: '='
  }
});
```

**index.html**

```html
<!-- components match only elements -->
<div ng-controller="MainCtrl as ctrl">
  <b>Hero</b><br>
  <hero-detail hero="ctrl.hero"></hero-detail>
</div>
```

**heroDetail.html**

```html
<span>Name: {{$ctrl.hero.name}}</span>
```

也可以在一个模块的配置阶段,通过`$compileProvider`添加组件.

### 指令定义与组件定义的比较

|  | 指令 | 组件 |
| --- | --- | --- |
| bindings | 没有 | 有\(绑定到控制器\) |
|bingToController|有(默认:`false`)|没有(使用bindings代替)|
|compile function|有|没有|
|controller|有|有(默认:`function() {}`)|
|ControllerAs|有(默认:`false`)|有(默认:$ctrl)|

