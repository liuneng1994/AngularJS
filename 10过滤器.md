#过滤器

过滤器是用来格式化表达式的显示格式的.可以在视图模板,控制器和服务中使用过滤器.Angular有一个内建的过滤器集合,当然你也可能轻松地定义自己的过滤器.

##在视图模板中使用过滤器

过滤器可以被用于模板中的表达式内:
```
{{ expression | filter }}
```
例如`{{ 12 | currency }}`会通过`currency`过滤器把数字12格式化为金额的格式.结果的值为`$12.00`.

过滤器也可以用在另一个过滤器的结果上.这被称为"链":
```
{{ expression | filter1 | filter2 | ... }}
```
过滤器可以有多个参数:
```
{{ expression | filter:argument1:argument2:... }}
```
例如标记`{{ 1234 | number:2 }}`会把数字1234格式化为带有两位小数的形式`1,234.00`.

###过滤器在什么时候会被执行

在模板中,过滤器只会在它们的输入发生改变时执行.这比在每一次`$digest`循环后执行一次过滤器更加高效.

这个规则有两个例外:

1.  通常,这个规则只适用于输入为基本数据类型的值.如果值是一个对象,输入的表达式会在每一次`$digest`循环时执行,这将会损失很多的性能去跟踪输入的值是否改变.

2.  过滤器如果被标记为`$stateful`,也会在每一次`$digest`循环中执行.查看有状态的过滤器获得更多的信息.注意,Angular核心中的所有过滤器都是无状态的.

##在控制器,服务和指令中使用过滤器

你可以在控制器,服务和指令中使用过滤器.
>  只需要注入一个名称为`<filterName>Filter`的依赖到你的控制器/服务/指令中.例如一个叫作`number`的过滤器可以通过使用`numberFilter`作为依赖被注入.这个被注入的参数是一个函数,这个函数格式化第一个参数的值,过滤器的参数是从第二个参数开始.

下面是一个使用`filter`过滤器的例子.这个过滤器会将子数组作为条件去过滤数组.这个过滤器可以用在模板中,就像`{{ctrl.array | filter:'a'}}`,这个表达式会去全文搜索`"a"`.然而,在模板中使用过滤器会导致在每一次`digest`循环时重新计算过滤器的值,如果数组很大,会导致很大的性能损失.